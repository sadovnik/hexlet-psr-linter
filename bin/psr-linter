#!/usr/bin/env php
<?php

namespace PsrLinter;

$autoloadPaths = [
    __DIR__ . '/../vendor/autoload.php', // local dev
    __DIR__ . '/../../../autoload.php' // composer global
];

foreach ($autoloadPaths as $path) {
    if (file_exists($path)) {
        require_once $path;
        break;
    }
}

use PsrLinter\Cli\App;
use Docopt;

$doc = <<<DOC
PSR linter.

Usage:
    psr-linter <path>
    psr-linter (-h | --help)
    psr-linter --version

Options:
    --fix    try to fix automatically
DOC;

$args = Docopt::handle($doc, [ 'version' => 'PSR linter 0.1' ]);
$app = new App($args);
$app->run();
